arch=arm
filesize=1c5
bootcmd=echo snappy_boot; run snappy_boot;
snappy_boot=if test "${snap_mode}" = "try"; then setenv snap_mode "trying"; saveenv; if test "${snap_try_core}" != ""; then setenv snap_core "${snap_try_core}"; fi; if test "${snap_try_kernel}" != ""; then setenv snap_kernel "${snap_try_kernel}"; fi; elif test "${snap_mode}" = "trying"; then setenv snap_mode ""; saveenv; fi; run loadfiles; setenv mmcroot "/dev/disk/by-label/writable ${snappy_cmdline} snap_core=${snap_core} snap_kernel=${snap_kernel}"; run mmcargs; bootz ${loadaddr} ${initrd_addr}:${initrd_size} ${fdt_addr};
snappy_cmdline=net.ifnames=0 ro init=/lib/systemd/systemd
loadfiles=run loadkernel; run loadinitrd; run loadfdt
loadkernel=load mmc ${mmcdev}:${mmcpart} ${loadaddr} ${snap_kernel}/${kernel_file}
loadinitrd=load mmc ${mmcdev}:${mmcpart} ${initrd_addr} ${snap_kernel}/${initrd_file}; setenv initrd_size ${filesize}
mmcargs=setenv bootargs "${args} console=ttymxc0,115200 console=tty0 root=${mmcroot} video=mxcfb0:dev=hdmi,1920x1080M@60,if=RGB24" 
kernel_file=kernel.img
initrd_file=initrd.img
